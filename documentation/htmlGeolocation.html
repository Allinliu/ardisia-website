<!DOCTYPE html>
<html lang="en">
     
	<head>
		<meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>Docs - HtmlGeolocation</title>	    <link rel="stylesheet" href="/css/styles.css" type="text/css" charset="utf-8">
		<link rel="shortcut icon" href="/favicon.ico" >
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="/js/scripts.js"></script>
	</head>
	
    <body id="top" class="documentation">
    	<link rel="stylesheet" type="text/css" href="/js/google-code-prettify/themes/github.css" />
    	<script src="/js/google-code-prettify/prettify.js"></script>
    	<script>
			$(document).ready(function() {
				prettyPrint();
			});
		</script>
		 
	<div id="mobile-menu">
		<div>
			<div id="logo" class="logo"><span>Ardisia</span><span>Labs</span></div>
    		<a id="close-button" href="#">
	    		<svg width="20" height="20" version="1.1" xmlns="http://www.w3.org/2000/svg">
					<line x1="2" x2="18" y1="2" y2="18" stroke="#FFFFFF" fill="transparent" stroke-linecap="round" stroke-width="4"/>
					<line x1="2" x2="18" y1="18" y2="2" stroke="#FFFFFF" fill="transparent" stroke-linecap="round" stroke-width="4"/>
				</svg>
			</a>
		</div>
		<ul>
			<li><a href="/ardisia-component-library.html">Components</a>
				<ul>
					<li><a href="/ardisia-component-library.html">Overview</a></li>
					<li><a href="/demos.html">Demos</a></li>
					<li><a href="/faq.html">FAQ</a></li>
					<li><a href="/license-faq.html">License FAQ</a></li>
				</ul>
			</li>
			<li><a href="/support.html">Support</a>
				<ul>
					<li><a href="/support.html">Overview</a></li>
					<li><a href="/documentation/">Documentation</a></li>
					<li><a href="/documentation/asdocs/" target="_blank">ASDocs</a></li>
					<li><a href="/forums/">Github</a></li>
				</ul>
			</li>
			<li><a href="/services.html">Services</a></li>
			<li><a href="/company.html">Company</a>
				<ul>
					<li><a href="/company.html">Overview</a></li>
					<li><a href="/company.html#row-2">Laika</a></li>
				</ul>
			</li>
			<li><a href="/store.html">Store</a></li>
			<li><a href="/legal.html">Legal</a></li>
		</ul>
	</div>
	<div id="contact-details">
		<div>
			<span>EMAIL:</span>
			<span><a href="mailto:info@ardisialabs.com">info@ardisialabs.com</a></span> 
		</div> 
	</div>
	<header class="unselectable"> 
		<div class="container">
			<a id="open-contact-details" href="#">
				Contact
				<img src="/assets/vector/envelope-closed.min.svg" alt="envelope">
			</a>
			<a href="/">
				<div id="logo" class="logo"><span>Ardisia</span><span>Labs</span></div>
			</a>
			<div id="sub-links-container">
				<ul>
					<li><a href="/forums/">Github</a></li>
				</ul>
			</div>
			<nav>
				<ul>
					<li><a href="/ardisia-component-library.html" >COMPONENTS</a></li>
					<li><a href="/support.html"  class='selected'>SUPPORT</a></li>
					<li><a href="/services.html" >SERVICES</a></li>
					<li><a href="/company.html" >COMPANY</a></li>
					<li><a href="/store.html" >STORE</a></li>
				</ul>
			</nav>
			<a id="mobile-menu-popup-button" href="#">
				<svg width="30" height="27.5" version="1.1" xmlns="http://www.w3.org/2000/svg">
					<line x1="2.5" x2="27.5" y1="2.5" y2="2.5" stroke="#FFFFFF" fill="transparent" stroke-linecap="round" stroke-width="5"/>
					<line x1="2.5" x2="27.5" y1="12.5" y2="12.5" stroke="#FFFFFF" fill="transparent" stroke-linecap="round" stroke-width="5"/>
					<line x1="2.5" x2="27.5" y1="22.5" y2="22.5" stroke="#FFFFFF" fill="transparent" stroke-linecap="round" stroke-width="5"/>
				</svg>
			</a>
		</div>
	</header>

		<div class='sublinks'><div class='sublinks-wrapper'><h3>Support</h3><ul><li><a href='/support.html' >Overview</a></li><li><a href='/documentation/' class='selected'>Documentation</a></li><li><a href='/documentation/asdocs/'  target='_blank'>ASDocs</a></li></ul></div></div>		<main>
    		<div id="row-1">
    			<div class="container">
    				<div>
    					<div class="toc"><h4>Contents</h4>
		    			<ul>
		    				<li style="margin: 15px 0 7px;"><strong>Usage</strong></li>
		    				<li ><a href="/documentation/using-the-library">Using the Library</a></li>
		    				<li ><a href="/documentation/using-themes">Using the Themes</a></li>
		    				<li ><a href="/documentation/using-demo">Using the Demo App</a></li>
		    				<li style="margin: 15px 0 7px;"><strong>Components</strong></li>
		    				<li><a href='/documentation/accordion'>Accordion</a></li><li><a href='/documentation/animatedImage'>AnimatedImage</a></li><li><a href='/documentation/autoComplete'>AutoComplete</a></li><li><a href='/documentation/autoFitText'>AutoFitText</a></li><li><a href='/documentation/barCode'>BarCode</a></li><li><a href='/documentation/bitmapAdjustments'>BitmapAdjustments</a></li><li><a href='/documentation/buttonBar'>ButtonBar</a></li><li><a href='/documentation/calculator'>Calculator</a></li><li><a href='/documentation/calendar'>Calendar</a></li><li><a href='/documentation/captcha'>CAPTCHA</a></li><li><a href='/documentation/carouselLayout'>CarouselLayout</a></li><li><a href='/documentation/carouselList'>CarouselList</a></li><li><a href='/documentation/clocks'>Clocks</a></li><li><a href='/documentation/colorizer'>Colorizer</a></li><li><a href='/documentation/colorPicker'>ColorPicker</a></li><li><a href='/documentation/colorSpacePicker'>ColorSpacePicker</a></li><li><a href='/documentation/compassContainer'>CompassContainer</a></li><li><a href='/documentation/coverflowLayout'>CoverflowLayout</a></li><li><a href='/documentation/coverflowList'>CoverflowList</a></li><li><a href='/documentation/cursorManager'>CursorManager</a></li><li><a href='/documentation/datePicker'>DatePicker</a></li><li><a href='/documentation/dockingCompassContainer'>DockingCompassContainer</a></li><li><a href='/documentation/donut'>Donut Chart</a></li><li><a href='/documentation/expandingContainer'>ExpandingContainer</a></li><li><a href='/documentation/fieldSet'>FieldSet</a></li><li><a href='/documentation/filters'>Filters</a></li><li><a href='/documentation/flexContextMenu'>FlexContextMenu</a></li><li><a href='/documentation/floatPaneControlBar'>FloatPaneControlBar</a></li><li><a href='/documentation/funnel'>Funnel Chart</a></li><li><a href='/documentation/graphicsEditor'>GraphicsEditor</a></li><li><a href='/documentation/heatmap'>Heatmap</a></li><li><a href='/documentation/htmlDragDrop'>HtmlDragDrop</a></li><li><a href='/documentation/htmlFrame'>HtmlFrame</a></li><li class='selected'><a href='/documentation/htmlGeolocation'>HtmlGeolocation</a></li><li><a href='/documentation/iCalendarParser'>iCalendarParser</a></li><li><a href='/documentation/iCalendarRecurrence'>iCalendarRecurrence</a></li><li><a href='/documentation/iconButton'>IconButton</a></li><li><a href='/documentation/linearGauges'>Linear Gauges</a></li><li><a href='/documentation/magnifier'>Magnifier</a></li><li><a href='/documentation/menuBar'>Menu and MenuBar</a></li><li><a href='/documentation/miniViewport'>MiniViewport</a></li><li><a href='/documentation/packedLayout'>PackedLayout</a></li><li><a href='/documentation/packedList'>PackedList</a></li><li><a href='/documentation/pane'>Pane</a></li><li><a href='/documentation/popUpButton'>PopUpButton</a></li><li><a href='/documentation/progressDisplay'>ProgressDisplay</a></li><li><a href='/documentation/radar'>Radar</a></li><li><a href='/documentation/radialGauge'>Radial Gauge</a></li><li><a href='/documentation/rating'>Rating</a></li><li><a href='/documentation/reflectionContainer'>ReflectionContainer</a></li><li><a href='/documentation/richTextEditor'>RichTextEditor</a></li><li><a href='/documentation/rotaryField'>RotaryField</a></li><li><a href='/documentation/safariMouseWheelFix'>SafariMouseWheelFix</a></li><li><a href='/documentation/scroller'>Scroller</a></li><li><a href='/documentation/separator'>Separators</a></li><li><a href='/documentation/sliderField'>SliderField</a></li><li><a href='/documentation/sparklines'>Sparklines</a></li><li><a href='/documentation/tabPaneNavigator'>TabPaneNavigator</a></li><li><a href='/documentation/textInput'>TextInput</a></li><li><a href='/documentation/timebarContainer'>TimebarContainer</a></li><li><a href='/documentation/timeline'>Timeline</a></li><li><a href='/documentation/timeMachineLayout'>TimeMachineLayout</a></li><li><a href='/documentation/timeMachineList'>TimeMachineList</a></li><li><a href='/documentation/timePicker'>TimePicker</a></li><li><a href='/documentation/toggleSwitchDesktop'>ToggleSwitchDesktop</a></li><li><a href='/documentation/transformContainer'>TransformContainer</a></li><li><a href='/documentation/treeMap'>TreeMap</a></li><li><a href='/documentation/viewStack'>ViewStack</a></li><li><a href='/documentation/wheelList'>WheelList</a></li>		    			</ul></div><div class="contents"><h2 class='toc-title'>HtmlGeolocation</h2><h3>Overview</h3>
<p>
	The Geolocation component uses the HTML5 API of modern browsers to retrieve 
	the user's geographic location. 
</p>

<h3>AIR</h3>
<p>
	This component will <strong>NOT</strong> work within the AIR environment. 
	For HTML support in AIR, try the native mx.controls.HTML and 
	flash.html.HTMLLoader classes.
</p>

<h3>Requirements</h3>
<p>
	Only works if the browser supports HTML5 geolocation and ExternalInterface.
</p>

<h3>Flash Geolocation</h3>
<p>
	Flash has both Geolocation and GeolocationEvent classes for mobile devices 
	with location sensors. This class brings some of that functionality to 
	desktop based applications.
</p>

<h3>Creating the HtmlGeolocation Component</h3>
<p>
	The component is not visual and is not added to the display list.  Extends 
	EventDispatcher and should either be declared in the &lt;fx:Declarations&gt; 
	tag or in Actionscript.
</p>

<h3>Using the HtmlGeolocation Component</h3>
<p>
	Attach an UPDATE and ERROR listener and call getCurrentPosition() to 
	retrieve the user location. Since the location data is returned 
	asynchronously, an event handler is required to get the location data. See 
	the events in the htmlGeolocation package for the information returned by 
	the update and error events.
</p>

<h3>Security</h3>
<p>
	To test in the local domain, on the "preinitialize" event, add the following 
	code to the "preinitialize" event handler:
<pre class="prettyprint">
Security.allowDomain("*");
</pre>
</p>
<p>
	Even with the above code, this component may fail in local testing in some 
	browsers.
</p>
<p>
	Note that users can deny access to their location if desired.  Notice of 
	rejection is available via the error event. 
</p>

<h3>Example</h3>
<p>
<pre class="prettyprint">
&lt;htmlGeolocation:HtmlGeolocation  id="htmlGeolocation"&gt;
	error="Alert.show(event.errorType, 'ERROR', 4, this, null, null, 0, 
		moduleFactory);"
	update="geolocation_updateHandler(event)"
&lt;/htmlGeolocation:HtmlGeolocation&gt;
</pre>
</p>
<p>
	See the HtmlGeolocation application for more example code.
</p>	

<h3>Known Bugs</h3>
<p>
	Firefox 4+: if the user does not allow location tracking by selecting "Not 
	Now" to the permission prompt, it will not fire the errorHandler, so the 
	developer will not get an indication of failure.  Plan accordingly. May be a 
	good idea to set a timeout handler.
</p>

<h3>Custom Events</h3>
<p>
	<b>UPDATE</b><br>
	ardisia.components.htmlGeolocation.events.HtmlGeolocationEvent<br>
	Dispatched when the ExternalInterface returns position data after a call to
		getCurrentPosition().
</p>
<p>
	<b>ERROR</b><br>
	ardisia.components.htmlGeolocation.events.HtmlGeolocationEvent<br>
	Dispatched when the ExternalInterface returns an error after a call to 
		getCurrentPosition().
</p>


<a href='#top'>Back To Top</a></div></div></div>
    		</div>
    	</main>
		 

	<footer>
		<div class="container">
			<div class="footer-description">
				Find the good stuff...
				<a href="/">
					<div class="logo">
						<span>Ardisia</span><span>Labs</span>
					</div>
				</a>
			</div>
			<div class="mobile-sitemap-container">
				<ul>
					<li><a href="/ardisia-component-library.html">Components</a></li>
					<li><a href="/support.html">Support</a></li>
					<li><a href="/services.html">Services</a></li>
					<li><a href="/company.html">Company</a></li>
					<li><a href="/forum/">Github</a></li>
					<li><a href="/store.html">Store</a></li>
				</ul>
			</div>	
			<div class="sitemap-container"><div class="link-category">
					<h6>Components</h6>
					<ul>
						<li><a href="/ardisia-component-library.html">Overview</a></li>
						<li><a href="/demos.html">Demos</a></li>
						<li><a href="/faq.html">FAQ</a></li>
						<li><a href="/license-faq.html">License FAQ</a></li>
					</ul>
				</div><div class="link-category">
					<h6>Support</h6>
					<ul>
						<li><a href="/support.html">Overview</a></li>
						<li><a href="/documentation">Documentation</a></li>
						<li><a href="/documentation/asdocs" target="_blank">ASDocs</a></li>
						<li><a href="/forum/">Github</a></li>
					</ul>
				</div><div class="link-category">
					<h6>Services</h6>
					<ul>
						<li><a href="/services.html">Overview</a></li>
					</ul>
				</div><div class="link-category">
					<h6>Company</h6>
					<ul>
						<li><a href="/company.html">Overview</a></li>
						<li><a href="/company.html#row-2">Laika</a></li>
					</ul>
				</div><div class="link-category">
					<h6>Store</h6>
					<ul>
						<li><a href="/store.html">Purchase</a></li>
					</ul>
				</div></div>
			<div class="legal-links-wrapper">
				<div>
					<a href="/legal.html/">Legal</a>
					<a href="/legal.html/terms-of-use" class="right-footer-wrapper">Terms of Use</a>
					<a href="/legal.html/privacy">Privacy</a>
				</div>
				Copyright © <span id="copydt"></span><script>var el = document.getElementById("copydt");el.innerHTML = new Date().getFullYear()</script> Ardisia Labs LLC
			</div>
			<div class="apache-wrapper">
				<div>
					Apache Flex&trade; and Apache&trade; are trademarks of The Apache Software Foundation. 
					The Apache Flex SDK product page is located <a href="http://flex.apache.org/" target="_blank">here.</a>
					The Apache Software Foundation ("ASF") is not associated with Ardisia Labs and does not 
					endorse the Ardisia Component Library in any way.
				</div>
				<a id="apache-logo-link" href="http://flex.apache.org/"><img src="/assets/images/apache-flex-logo-grayscale.png" alt="Apache Flex Logo"></a>
			</div>
		</div>
	</footer>
	
    </body>
</html>